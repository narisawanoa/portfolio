<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Noa Narisawa - Portfolio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">

  <style>
:root {
  --bg:#ffffff;
  --fg:#000000;
  --muted:#545454;
  --border:#e6e6e6;
}
* { box-sizing: border-box; }
body {
  margin:0;
  font-family: 'Share Tech Mono', monospace;
  font-size: 16px;
  line-height: 1.6;
  color:var(--fg);
  background:var(--bg);
  display:flex;
  flex-direction:column;
  min-height:100vh;
}
main { flex:1; position: relative; }
header {
  position:sticky; 
  top:0; 
  z-index:50;
  background:rgb(255, 255, 255);
  backdrop-filter:blur(8px);
  border-bottom:1px solid var(--border);
  padding: 20px;
  text-align: center;
}
header h1 { margin: 0; font-size: 24px; font-weight: 500; }
header nav { margin-top: 15px; display: flex; gap: 30px; justify-content: center; }
header nav a {
  color: var(--fg);
  text-decoration: none;
  padding-bottom: 5px;
  border-bottom: 2px solid transparent;
  transition: border-color 0.3s ease;
  font-size: 18px;
}
header nav a:hover, header nav a.active { border-bottom-color: var(--fg); }
.portfolio-container { padding: 30px; text-align: center; }
h2 { font-size: 26px; margin: 0 0 30px; font-weight: 500; color: red; }
.tab-content { display: none; }
.tab-content.active { display: block; }
.portfolio-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 20px;
  margin-bottom: 60px;
}
.portfolio-item {
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.3s ease;
  display: flex;
  flex-direction: column;
}
.portfolio-item:hover { transform: translateY(-4px); }
.portfolio-media {
  flex: 1;
  position: relative;
  overflow: hidden;
  aspect-ratio: 4/3;
}
.portfolio-item img, .portfolio-item video, .portfolio-item iframe {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}
.portfolio-item video, .portfolio-item iframe { pointer-events: none; border: none; }
.portfolio-title { padding: 12px; background: var(--bg); text-align: center; }
.portfolio-title h3 { margin: 0; font-size: 14px; font-weight: 400; color: var(--fg); }
.project-page { display: none; }
.project-page.active { display: block; }
.project-header { max-width: 1200px; margin: 0 auto; padding: 40px 30px; text-align: center; }
.project-header h1 { font-size: 32px; font-weight: 500; margin: 0 0 20px; }
.project-meta { color: var(--muted); font-size: 16px; margin-bottom: 30px; }
.project-description { font-size: 18px; line-height: 1.8; margin-bottom: 50px; max-width: 800px; margin-left: auto; margin-right: auto; }
.project-gallery { max-width: 450px; margin: 0 auto; padding: 0 30px 60px; }
.project-gallery img, .project-gallery video, .project-gallery iframe {
  width: 100%;
  margin-bottom: 30px;
  border-radius: 8px;
}
.project-gallery iframe { aspect-ratio: 16/9; height: auto; }
.back-link {
  position: absolute;
  top: 20px;
  left: 30px;
  font-size: 16px;
  color: var(--fg);
  text-decoration: none;
  padding: 8px 16px;
  border: 1px solid var(--border);
  border-radius: 4px;
  transition: background-color 0.3s ease;
  background: var(--bg);
  cursor: pointer;
  z-index: 10;
}
.back-link:hover {
  background-color: var(--border);
}
.profile-section { margin-bottom: 50px; }
.profile-section h3 {
  font-size: 20px;
  font-weight: 500;
  margin: 0 0 20px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--border);
}
.profile-meta { color: var(--muted); font-size: 14px; margin-bottom: 10px; }
.cursor-coords {
  position: fixed;
  top: 10px;
  right: 10px;
  color: white;
  padding: 8px 12px;
  border-radius: 4px;
  font-size: 12px;
  font-family: monospace;
  z-index: 100;
  pointer-events: none;
}
.particle {
  position: fixed;
  width: 3px;
  height: 3px;
  pointer-events: none;
  z-index: 9999;
  opacity: 0;
  background: #000;
  border-radius: 50%;
}
footer { border-top:1px solid var(--border); padding:20px; font-size:14px; text-align: center; }
footer p { margin:0; }
@media (max-width: 768px) {
  .portfolio-grid {
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 15px;
  }
  .portfolio-container { padding: 20px; }
  .project-header h1 { font-size: 24px; }
  .project-description { font-size: 16px; }
  .back-link {
    top: 10px;
    left: 20px;
    font-size: 14px;
    padding: 6px 12px;
  }
}
</style>
</head>
<body>
  <header>
    <h1>Noa Narisawa</h1>
    <nav>
      <a href="#works" class="nav-link active">Works</a>
      <a href="#profile" class="nav-link">Profile</a>
    </nav>
  </header>
  <main id="main-content"></main>
  <div class="cursor-coords" id="coords">X: 0, Y: 0</div>
  <footer><p>© <span id="y"></span> Noa Narisawa</p></footer>

  <script>
const installationProjects = ['youtube', 'wood', 'plotter', 'sky', 'mission'];
const sculptureProjects = ['woodbox', 'metal', 'light', 'hole', 'tide', 'head', 'hand'];
const interactiveProjects = ['forest'];

const projects = {
  youtube: {
    title: "Why did you do that, idiot, murderer, jump",
    meta: "December 2025 / Video (17:04)",
    description: "Why did you do that, idiot, murderer, jump is a caricature of the mundane through the lens of the two metaphorical dads —hypothetical and imaginary father figures from South Korea and Japan. The set of composed actions shows an ambiguous mix of joy and sorrow, and the catharsis of moments in conversations, meals, and strange occurrences. <br> <br> Made in collaboration with Cleo Kim.",
    thumb: { type: 'youtube', src: 'b_-3fnUcD2E' },
    media: [{ type: 'youtube', src: 'b_-3fnUcD2E' }]
  },
  wood: {
    title: "How to shoot down a bird",
    meta: "November 2025 / Wood, multimedia installation",
    description: "From the water that fuels the vibration of the extrusion to the spinning fans powered by the electrical outlets, the assembly of different elements creates systematic movements. This is an experimental piece that plays with the relationship between the mover, the moved, and something in between.",
    thumb: { type: 'image', src: 'images/wood4.jpg' },
    media: [
      { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/wood.mp4' },
      { type: 'image', src: 'images/wood1.JPG' },
      { type: 'image', src: 'images/wood2.jpg' },
      { type: 'image', src: 'images/wood3.jpg' },
      { type: 'image', src: 'images/wood4.jpg' }
    ]
  },
  plotter: {
    title: "Walking the plotter",
    meta: "September 2025 / Multimedia Installation",
    description: "I made a walking track for the plotter, generating a walking path in real time. I added several variables to track the walk, such as distance in pixels, duration time in seconds, motor usage, and the density of lines. I used white pencil on white paper to focus viewers on the internal algorithms of the plotter for it to walk.",
    thumb: { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/plotter9_24com_1.mp4' },
    media: [
      { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/plotter.mp4' },
      { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/sr9_24_1.mp4' },
      { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/plotter9_24com_1.mp4' }
    ]
  },
  forest: {
    title: "In communication with an unknown Entity",
    meta: "May 2025 / Multimedia Installation",
    description: "An interactive software where the viewer could reflect responses to carry out conversation with the forest. I translated the software into physical installation by making an object that can receive signals from the classroom and responds to them.",
    thumb: { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/forest1.mp4' },
    media: [
      { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/forest1.mp4' },
      { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/forest2.mp4' },
      { type: 'image', src: 'images/forestphoto.jpeg' },
      { type: 'image', src: 'images/forestphoto2.jpeg' }
    ]
  },
  sky: {
    title: "Live Recording and Projection of the Sky",
    meta: "April 2025 / Multimedia Installation",
    description: "A live projection of the sky recording on site. The sky is divided by invisible borders that can easily be trespassed. Yet, I am bounded on the land unable to see the other skies but my own.",
    thumb: { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/beach.mp4' },
    media: [
      { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/beach.mp4' },
      { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/sky.mp4' },
      { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/sky2.mp4' }
    ]
  },
  mission: {
    title: "Mission Statement",
    meta: "March 2025 / Multimedia Installation",
    description: "A site-specific installation for RISD beach. The mission statement of RISD administration is played on repeat from a speaker inside an enclosed cube, filtered by the cube and the traffic noise surrounding the institution.",
    thumb: { type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/missionstatement.mp4' },
    media: [{ type: 'video', src: 'https://github.com/narisawanoa/portfolio/releases/download/media-v1/missionstatement.mp4' }]
  },
  
  woodbox: {
    title: "Blue box",
    meta: "November 2025 / Wood, steel, color pencil, graphite / 4 × 0.5 × 0.3 ft",
    description: "Container of a headless sheep and blue",
    thumb: { type: 'image', src: 'images/box2.jpg' },
    media: [
      { type: 'image', src: 'images/box1.jpg' },
      { type: 'image', src: 'images/box3.jpg' },
      { type: 'image', src: 'images/box2.jpg' },
      { type: 'image', src: 'images/box4.jpg' }
    ]
  },
  metal: {
    title: "Flowly bent ladder",
    meta: "October 2025 / Steel",
    description: "I explored my physical presence in this world through creating this structure. This sculpture is an extention of my physicality and its system.<br><br>3.5 × 4 × 3 ft",
    thumb: { type: 'image', src: 'images/metal1.jpg' },
    media: [
      { type: 'image', src: 'images/metal1.jpg' },
      { type: 'image', src: 'images/metal2.JPG' },
      { type: 'image', src: 'images/metal3.JPG' },
      { type: 'image', src: 'images/metal5.jpg' }
    ]
  },

  light: {
    title: "Light in the colony",
    meta: "May 2025 / Wire, rice paper, reed",
    description: "In continuation from the hole in the colony sculpture, I put a light source inside the colonial structure/architecture to cast light and shadow through the transparency of the rice paper. Similar to the previous sculpture, the rice paper was used to stretch over and connect the reed structures and create holes that could allow the light to pass through.<br><br>40 × 3 × 45 in",
    thumb: { type: 'image', src: 'images/light1.jpg' },
    media: [
      { type: 'image', src: 'images/light1.jpg' },
      { type: 'image', src: 'images/light2.jpg' },
      { type: 'image', src: 'images/light3.jpg' }
    ]
  },
  hole: {
    title: "Hole in the colony",
    meta: "April 2025 / Wire, rice paper, reed, wood",
    description: "From the architectural structures that I observed in NYC, I analyzed their form and scaffolding to create a sculpture that represents a living colony gathering in the architecture. The rice paper used to stretch and connect the linear reed structures dries out and begins to crack after some time, creating a nervousness and tension around it.<br><br>40 × 35 × 30 in",
    thumb: { type: 'image', src: 'images/colony.jpg' },
    media: [
      { type: 'image', src: 'images/colony.jpg' },
      { type: 'image', src: 'images/colony2.jpg' },
      { type: 'image', src: 'images/colony3.jpg' },
      { type: 'image', src: 'images/colony4.jpg' }
    ]
  },
  tide: {
    title: "Tide",
    meta: "March 2025 / Bristol paper",
    description: "Paper construction of water from 2D to 3D.",
    thumb: { type: 'image', src: 'images/paper.jpeg' },
    media: [
      { type: 'image', src: 'images/paper.jpeg' },
      { type: 'image', src: 'images/paper1.jpeg' },
      { type: 'image', src: 'images/paper4.jpeg' },
      { type: 'image', src: 'images/paper3.jpeg' }
    ]
  },
  head: {
    title: "Head",
    meta: "May 2024 / Clay",
    description: "Self Portrait.",
    thumb: { type: 'image', src: 'images/face1.jpg' },
    media: [
      { type: 'image', src: 'images/face1.jpg' },
      { type: 'image', src: 'images/face2.jpg' },
      { type: 'image', src: 'images/face3.HEIC' }
    ]
  },
  hand: {
    title: "Hand (and the sketch)",
    meta: "June 2024 / Clay, charcoal on paper",
    description: "Hand sculpture and observational drawing study.",
    thumb: { type: 'image', src: 'images/hand1.JPG' },
    media: [
      { type: 'image', src: 'images/hand1.JPG' },
      { type: 'image', src: 'images/hand2.jpg' },
      { type: 'image', src: 'images/hand3.jpg' },
      { type: 'image', src: 'images/hand4.HEIC' },
      { type: 'image', src: 'images/hand.HEIC' }
    ]
  }
};

function renderMedia(item) {
  if (item.type === 'youtube') {
    return `<img src="https://img.youtube.com/vi/${item.src}/maxresdefault.jpg" alt="YouTube thumbnail" style="width:100%;height:100%;object-fit:cover;">`;
  } else if (item.type === 'video') {
    return `<video autoplay loop muted playsinline><source src="${item.src}" type="video/mp4"></video>`;
  } else {
    return `<img src="${item.src}" alt="">`;
  }
}

function showInstallation() {
  const installationGrid = installationProjects.map(key => {
    const p = projects[key];
    return `
      <div class="portfolio-item" onclick="showProject('${key}')">
        <div class="portfolio-media">
          ${renderMedia(p.thumb)}
        </div>
        <div class="portfolio-title"><h3>${p.title}</h3></div>
      </div>`;
  }).join('');
  
  const sculptureGrid = sculptureProjects.map(key => {
    const p = projects[key];
    return `
      <div class="portfolio-item" onclick="showProject('${key}')">
        <div class="portfolio-media">
          ${renderMedia(p.thumb)}
        </div>
        <div class="portfolio-title"><h3>${p.title}</h3></div>
      </div>`;
  }).join('');
  
  const interactiveGrid = interactiveProjects.map(key => {
    const p = projects[key];
    return `
      <div class="portfolio-item" onclick="showProject('${key}')">
        <div class="portfolio-media">
          ${renderMedia(p.thumb)}
        </div>
        <div class="portfolio-title"><h3>${p.title}</h3></div>
      </div>`;
  }).join('');
  
  document.getElementById('main-content').innerHTML = `
    <div class="tab-content active">
      <div class="portfolio-container">
        <h2>Interactive</h2>
        <div class="portfolio-grid">${interactiveGrid}</div>
      </div>
      <div class="portfolio-container">
        <h2>Installation</h2>
        <div class="portfolio-grid">${installationGrid}</div>
      </div>
      <div class="portfolio-container">
        <h2>Sculpture</h2>
        <div class="portfolio-grid">${sculptureGrid}</div>
      </div>
    </div>`;
}

function showSculpture() {
  showInstallation();
}

function showWorks() {
  showInstallation();
}

function showProject(key) {
  const p = projects[key];
  const mediaHTML = p.media.map(m => {
    if (m.type === 'youtube') {
      return `<iframe width="100%" height="400" src="https://www.youtube.com/embed/${m.src}?rel=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`;
    } else if (m.type === 'video') {
      return `<video controls preload="metadata"><source src="${m.src}" type="video/mp4"><source src="${m.src}" type="video/quicktime">Your browser does not support the video tag.</video>`;
    } else {
      return `<img src="${m.src}" alt="">`;
    }
  }).join('');
  
  const allProjectsGrid = Object.keys(projects).map(k => {
    const proj = projects[k];
    return `
      <div class="portfolio-item" onclick="showProject('${k}')">
        <div class="portfolio-media">
          ${renderMedia(proj.thumb)}
        </div>
        <div class="portfolio-title"><h3>${proj.title}</h3></div>
      </div>`;
  }).join('');
  
  document.getElementById('main-content').innerHTML = `
    <div class="project-page active">
      <a href="#works" class="back-link" onclick="showWorks(); return false;">← Works</a>
      <div class="project-header">
        <h1>${p.title}</h1>
        <div class="project-meta">${p.meta}</div>
        <div class="project-description">${p.description}</div>
      </div>
      <div class="project-gallery">${mediaHTML}</div>
      <div class="portfolio-container">
        <h2>All Works</h2>
        <div class="portfolio-grid">${allProjectsGrid}</div>
      </div>
    </div>`;
  window.scrollTo(0, 0);
}

function showProfile() {
  document.getElementById('main-content').innerHTML = `
    <div class="tab-content active">
      <div class="portfolio-container">
        <h2>Profile</h2>
        <div class="profile-section">
          <h3>Education</h3>
          <div class="profile-meta">Rhode Island School of Design (RISD), Providence, RI</div>
          <div class="profile-meta">Bachelor of Fine Arts, Sculpture 2028</div>
        </div>
        <div class="profile-section">
          <h3>Contact</h3>
          <div class="profile-meta">Email: narisawa.noa@gmail.com</div>
        </div>
      </div>
    </div>`;
}

document.querySelectorAll('.nav-link').forEach(link => {
  link.addEventListener('click', (e) => {
    e.preventDefault();
    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
    link.classList.add('active');
    if (link.getAttribute('href') === '#profile') {
      showProfile();
    } else {
      showWorks();
    }
  });
});

document.getElementById('y').textContent = new Date().getFullYear();
showWorks();

// Particle trail animation - Bird flock behavior
const particles = [];
const maxParticles = 120;

for (let i = 0; i < maxParticles; i++) {
  const particle = document.createElement('div');
  particle.className = 'particle';
  document.body.appendChild(particle);
  particles.push({
    el: particle,
    x: Math.random() * window.innerWidth,
    y: Math.random() * window.innerHeight,
    vx: (Math.random() - 0.5) * 1.5,
    vy: (Math.random() - 0.5) * 1.5,
    speed: 0.3 + Math.random() * 0.8,
    targetX: Math.random() * window.innerWidth,
    targetY: Math.random() * window.innerHeight,
    wanderAngle: Math.random() * Math.PI * 2,
    autonomy: Math.random() * 0.5 // reduced autonomy range
  });
}

let mouseX = window.innerWidth / 2;
let mouseY = window.innerHeight / 2;
let lastMouseMoveTime = Date.now();

document.addEventListener('mousemove', (e) => {
  mouseX = e.clientX;
  mouseY = e.clientY;
  lastMouseMoveTime = Date.now();
  const coordsEl = document.getElementById('coords');
  coordsEl.textContent = `X: ${e.clientX}, Y: ${e.clientY}`;

  const w = window.innerWidth || 1;
  const h = window.innerHeight || 1;

  // Map X/Y to RGB (0-255)
  const r = Math.round((e.clientX / w) * 255);
  const g = Math.round((e.clientY / h) * 255);
  const b = Math.round(255 - ((r + g) / 2));

  coordsEl.style.color = `rgb(${r}, ${g}, ${b})`;
});

function animateParticles() {
  const timeSinceMouseMove = Date.now() - lastMouseMoveTime;
  const mouseIsStatic = timeSinceMouseMove > 1000;
  
  particles.forEach((p, i) => {
    // Update wander angle for organic movement (reduced)
    p.wanderAngle += (Math.random() - 0.5) * 0.15;
    
    // Occasionally set new random targets (less frequent)
    if (Math.random() < 0.005) {
      p.targetX = Math.random() * window.innerWidth;
      p.targetY = Math.random() * window.innerHeight;
    }
    
    // Cohesion and alignment with variable influence
    let centerX = 0, centerY = 0, neighborCount = 0;
    let avgVx = 0, avgVy = 0;
    let separateX = 0, separateY = 0;
    
    particles.forEach((other, j) => {
      if (i !== j) {
        const dx = other.x - p.x;
        const dy = other.y - p.y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        
        // Variable cohesion range
        const cohesionRange = 100 + Math.sin(Date.now() * 0.0008 + i) * 40;
        if (dist < cohesionRange) {
          centerX += other.x;
          centerY += other.y;
          avgVx += other.vx;
          avgVy += other.vy;
          neighborCount++;
        }
        
        // Separation with variable threshold
        const separationDist = 12 + Math.sin(Date.now() * 0.001 + i) * 8;
        if (dist < separationDist && dist > 0) {
          const force = (separationDist - dist) / dist;
          separateX -= (dx / dist) * force;
          separateY -= (dy / dist) * force;
        }
      }
    });
    
    // Flocking behavior (slightly reduced when mouse is static)
    if (neighborCount > 0) {
      centerX /= neighborCount;
      centerY /= neighborCount;
      avgVx /= neighborCount;
      avgVy /= neighborCount;
      
      const cohesionStrength = mouseIsStatic ? 0.002 : 0.004;
      p.vx += (centerX - p.x) * cohesionStrength;
      p.vy += (centerY - p.y) * cohesionStrength;
      
      const alignmentStrength = 0.04 + Math.sin(Date.now() * 0.0008 + i) * 0.02;
      p.vx += (avgVx - p.vx) * alignmentStrength;
      p.vy += (avgVy - p.vy) * alignmentStrength;
    }
    
    // Separation
    p.vx += separateX * 0.08;
    p.vy += separateY * 0.08;
    
    // Mouse interaction (stronger to keep particles grouped)
    const dx = mouseX - p.x;
    const dy = mouseY - p.y;
    const dist = Math.sqrt(dx * dx + dy * dy);
    
    if (dist > 0) {
      const mouseInfluence = mouseIsStatic ? 0.08 : 0.25;
      const particleResponse = (1 - p.autonomy * 0.5) * mouseInfluence;
      p.vx += (dx / dist) * particleResponse;
      p.vy += (dy / dist) * particleResponse;
    }
    
    // Wander behavior (reduced autonomous movement)
    const wanderStrength = 0.1 + p.autonomy * 0.15;
    p.vx += Math.cos(p.wanderAngle) * wanderStrength;
    p.vy += Math.sin(p.wanderAngle) * wanderStrength;
    
    // Move towards random target (reduced)
    const tdx = p.targetX - p.x;
    const tdy = p.targetY - p.y;
    const tdist = Math.sqrt(tdx * tdx + tdy * tdy);
    if (tdist > 50) {
      p.vx += (tdx / tdist) * 0.02 * p.autonomy;
      p.vy += (tdy / tdist) * 0.02 * p.autonomy;
    }
    
    // Random impulses for chaos (reduced)
    if (Math.random() < 0.01) {
      p.vx += (Math.random() - 0.5) * 0.8;
      p.vy += (Math.random() - 0.5) * 0.8;
    }
    
    // Limit speed with variable max (slower speeds)
    const speed = Math.sqrt(p.vx * p.vx + p.vy * p.vy);
    const maxSpeed = p.speed * (1.5 + Math.sin(Date.now() * 0.0008 + i) * 0.5);
    if (speed > maxSpeed) {
      p.vx = (p.vx / speed) * maxSpeed;
      p.vy = (p.vy / speed) * maxSpeed;
    }
    
    // Apply drag (more drag for slower movement)
    p.vx *= 0.96;
    p.vy *= 0.96;
    
    // Update position
    p.x += p.vx;
    p.y += p.vy;
    
    // Wrap around screen edges
    if (p.x < 0) p.x = window.innerWidth;
    if (p.x > window.innerWidth) p.x = 0;
    if (p.y < 0) p.y = window.innerHeight;
    if (p.y > window.innerHeight) p.y = 0;
    
    // Update DOM
    p.el.style.left = p.x + 'px';
    p.el.style.top = p.y + 'px';
    p.el.style.opacity = 0.6;
  });
  
  requestAnimationFrame(animateParticles);
}

animateParticles();
  </script>
</body>
</html>